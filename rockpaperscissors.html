<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rock Paper Scissors - Multiplayer Edition</title>
  <style>
    :root {
      --bg-gradient: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      --card-bg: rgba(255,255,255,0.08);
      --text-color: #fff;
      --accent: #00d9ff;
      --btn-bg: #00d9ff;
      --btn-text: #000;
      --btn-hover: #0099cc;
    }
    body.light {
      --bg-gradient: linear-gradient(135deg, #f0f0f0, #ffffff, #dfe9f3);
      --card-bg: rgba(0,0,0,0.05);
      --text-color: #111;
      --accent: #0077cc;
      --btn-bg: #0077cc;
      --btn-text: #fff;
      --btn-hover: #005fa3;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Poppins", sans-serif; transition: all 0.3s ease; }
    body {
      min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center;
      background: var(--bg-gradient); color: var(--text-color);
    }
    h1 { font-size: 2.5rem; margin-bottom: 15px; text-shadow: 0 0 15px rgba(0,0,0,0.2); }

    .game-container {
      background: var(--card-bg); backdrop-filter: blur(15px);
      padding: 25px; border-radius: 20px; width: 90%; max-width: 650px;
      box-shadow: 0 0 30px rgba(0,0,0,0.2); text-align: center;
    }

    .top-bar {
      display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;
      margin-bottom: 20px; gap: 10px;
    }
    .scoreboard { display: flex; gap: 15px; }
    .score {
      font-weight: bold; padding: 8px 14px; border-radius: 12px;
      background: var(--card-bg);
    }

    .difficulty { background: var(--card-bg); padding: 5px 12px; border-radius: 10px; }
    select {
      border: none; border-radius: 8px; padding: 5px 8px; background: var(--btn-bg);
      color: var(--btn-text); font-weight: bold; cursor: pointer;
    }

    .choices { display: flex; justify-content: center; gap: 20px; margin: 20px 0; }
    .choice {
      background: var(--card-bg); border-radius: 50%; padding: 20px;
      font-size: 2rem; cursor: pointer; transition: 0.3s;
    }
    .choice:hover { transform: scale(1.2); background: rgba(255,255,255,0.25); }

    .result { font-size: 1.5rem; margin: 15px 0; min-height: 40px; font-weight: bold; }

    .history { margin-top: 20px; text-align: left; max-height: 180px; overflow-y: auto;
      padding: 10px; border-radius: 12px; background: var(--card-bg); font-size: 0.9rem;
    }
    .history-entry { margin: 4px 0; padding: 4px 6px; border-left: 3px solid var(--accent); }

    button {
      margin-top: 15px; padding: 10px 20px; border: none; border-radius: 12px;
      background: var(--btn-bg); color: var(--btn-text); font-weight: bold; cursor: pointer;
    }
    button:hover { background: var(--btn-hover); }

    /* Toggle Switch */
    .theme-toggle {
      display: flex; align-items: center; gap: 6px; cursor: pointer;
    }
    .switch {
      position: relative; display: inline-block; width: 50px; height: 24px;
    }
    .switch input { display: none; }
    .slider {
      position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
      background-color: #ccc; border-radius: 24px; transition: 0.4s;
    }
    .slider:before {
      position: absolute; content: ""; height: 18px; width: 18px;
      left: 3px; bottom: 3px; background-color: white; border-radius: 50%; transition: 0.4s;
    }
    input:checked + .slider { background-color: var(--accent); }
    input:checked + .slider:before { transform: translateX(26px); }
  </style>
</head>
<body>

  <h1>‚ö° Rock Paper Scissors -üî•/h1>

  <div class="game-container">
    <div class="top-bar">
      <div class="scoreboard">
        <div class="score" id="player-score">Player: 0</div>
        <div class="score" id="computer-score">Computer: 0</div>
      </div>
      <div class="difficulty">
        Mode: 
        <select id="difficulty">
          <option value="easy">Easy ü§ñ</option>
          <option value="medium">Medium üß†</option>
          <option value="hard">Hard üîÆ</option>
        </select>
      </div>
      <div class="theme-toggle">
        üåô
        <label class="switch">
          <input type="checkbox" id="theme-switch">
          <span class="slider"></span>
        </label>
        ‚òÄÔ∏è
      </div>
    </div>

    <div class="choices">
      <div class="choice" data-choice="rock">‚úä</div>
      <div class="choice" data-choice="paper">‚úã</div>
      <div class="choice" data-choice="scissors">‚úåÔ∏è</div>
    </div>

    <div class="result" id="result"></div>

    <button id="reset-btn">üîÑ Reset Game</button>

    <div class="history" id="history">
      <strong>Match History:</strong>
    </div>
  </div>

  <script>
    const choices = document.querySelectorAll(".choice");
    const playerScoreEl = document.getElementById("player-score");
    const computerScoreEl = document.getElementById("computer-score");
    const resultEl = document.getElementById("result");
    const historyEl = document.getElementById("history");
    const resetBtn = document.getElementById("reset-btn");
    const difficultySelect = document.getElementById("difficulty");
    const themeSwitch = document.getElementById("theme-switch");

    let playerScore = 0, computerScore = 0, round = 1;
    const options = ["rock", "paper", "scissors"];
    let playerMoves = [];

    const counterMove = (move) => {
      if (move === "rock") return "paper";
      if (move === "paper") return "scissors";
      return "rock";
    };

    const getComputerChoice = (difficulty, lastPlayerMove) => {
      if (difficulty === "easy") {
        return options[Math.floor(Math.random() * 3)];
      }
      if (difficulty === "medium") {
        if (lastPlayerMove && Math.random() < 0.5) {
          return counterMove(lastPlayerMove);
        }
        return options[Math.floor(Math.random() * 3)];
      }
      if (difficulty === "hard") {
        if (playerMoves.length === 0) return options[Math.floor(Math.random() * 3)];
        const freq = {};
        playerMoves.forEach(m => freq[m] = (freq[m] || 0) + 1);
        let mostPlayed = Object.keys(freq).reduce((a, b) => freq[a] > freq[b] ? a : b);
        return counterMove(mostPlayed);
      }
    };

    choices.forEach(choice => {
      choice.addEventListener("click", () => {
        const playerChoice = choice.dataset.choice;
        const difficulty = difficultySelect.value;
        const computerChoice = getComputerChoice(difficulty, playerMoves[playerMoves.length - 1]);
        playerMoves.push(playerChoice);
        playRound(playerChoice, computerChoice);
      });
    });

    function playRound(player, computer) {
      let winner = "";
      if (player === computer) {
        winner = "It's a Draw!";
      } else if (
        (player === "rock" && computer === "scissors") ||
        (player === "paper" && computer === "rock") ||
        (player === "scissors" && computer === "paper")
      ) {
        winner = "You Win!";
        playerScore++;
      } else {
        winner = "Computer Wins!";
        computerScore++;
      }

      playerScoreEl.textContent = `Player: ${playerScore}`;
      computerScoreEl.textContent = `Computer: ${computerScore}`;
      resultEl.textContent = `${winner} (You: ${player} | Computer: ${computer})`;

      const entry = document.createElement("div");
      entry.classList.add("history-entry");
      entry.textContent = `Round ${round++}: You chose ${player}, Computer chose ${computer} ‚Üí ${winner}`;
      historyEl.appendChild(entry);
      historyEl.scrollTop = historyEl.scrollHeight;
    }

    resetBtn.addEventListener("click", () => {
      playerScore = 0; computerScore = 0; round = 1; playerMoves = [];
      playerScoreEl.textContent = "Player: 0";
      computerScoreEl.textContent = "Computer: 0";
      resultEl.textContent = "";
      historyEl.innerHTML = "<strong>Match History:</strong>";
    });

    // Theme toggle
    themeSwitch.addEventListener("change", () => {
      document.body.classList.toggle("light");
    });
  </script>
</body>
</html>
